# Transport Online

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∞–≤—Ç–æ–±—É—Å—ã, —Ç—Ä–æ–ª–ª–µ–π–±—É—Å—ã –∏ –º–∞—Ä—à—Ä—É—Ç–Ω—ã–µ —Ç–∞–∫—Å–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ –≥–æ—Ä–æ–¥–∞.

![Version](https://img.shields.io/badge/version-0.4.0-blue.svg)
![React](https://img.shields.io/badge/React-19.2.0-61dafb.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9.3-3178c6.svg)
![Vite](https://img.shields.io/badge/Vite-7.2.4-646cff.svg)

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–æ–≤** –∞–≤—Ç–æ–±—É—Å–æ–≤, —Ç—Ä–æ–ª–ª–µ–π–±—É—Å–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–Ω—ã—Ö —Ç–∞–∫—Å–∏
- **–û—Å—Ç–∞–Ω–æ–≤–∫–∏** —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏–±—ã—Ç–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- **–í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **–ü—Ä–æ–≥–Ω–æ–∑—ã –ø—Ä–∏–±—ã—Ç–∏—è** –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å Bootstrap 5 –∏ React Bootstrap
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ–∑–∏—Ü–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- **Canvas-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 20+)
- npm 9+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd transport_online

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
npx playwright install
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5173
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–±–æ—Ä–∫–∏
npm run preview
```

## Docker

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å Docker. –î–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ —Ä–µ–∂–∏–º–∞: production –∏ development.

### Production (Docker)

```bash
# –°–±–æ—Ä–∫–∞ production –æ–±—Ä–∞–∑–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º API URL
docker build -t transport-online:latest \
  --build-arg VITE_API_BASE_URL=http://your-api-server:8000/api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d -p 8080:80 \
  --name transport-online \
  transport-online:latest

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080
```

**–í–∞–∂–Ω–æ**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `VITE_API_BASE_URL` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –æ–±—Ä–∞–∑–∞ —á–µ—Ä–µ–∑ `--build-arg`, —Ç–∞–∫ –∫–∞–∫ Vite –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–¥ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.

### Development (Docker)

```bash
# –°–±–æ—Ä–∫–∞ development –æ–±—Ä–∞–∑–∞
docker build -f Dockerfile.dev -t transport-online:dev .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å hot reload
docker run -d -p 5173:5173 \
  -v $(pwd):/app \
  -v /app/node_modules \
  -e VITE_API_BASE_URL=http://localhost:8000/api \
  --name transport-online-dev \
  transport-online:dev
```

### Docker Compose

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ docker-compose –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# Production —Ä–µ–∂–∏–º
docker-compose up -d app

# Development —Ä–µ–∂–∏–º
docker-compose --profile dev up -d app-dev

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose -f docker-compose.dev.yml up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f app

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
VITE_API_BASE_URL=http://your-api-server:8000/api
```

–ò–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é:

```bash
VITE_API_BASE_URL=http://api.example.com/api docker-compose up -d app
```

**–ü–æ—Ä—Ç—ã:**

- Production: `8080` (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `80`)
- Development: `5173` (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `5173`)

**Health Check:**

Production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç health check endpoint:

```bash
curl http://localhost:8080/health
# –û—Ç–≤–µ—Ç: healthy
```

### Docker Compose —Ñ–∞–π–ª—ã

- `docker-compose.yml` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å production –∏ development —Å–µ—Ä–≤–∏—Å–∞–º–∏
- `docker-compose.dev.yml` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –¥–ª—è development

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ –¥–≤—É—Ö —É—Ä–æ–≤–Ω—è—Ö:

### Unit —Ç–µ—Å—Ç—ã (Vitest)

**–ü–æ–∫—Ä—ã—Ç–∏–µ**: 100% –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö unit —Ç–µ—Å—Ç–æ–≤
npm test

# –ó–∞–ø—É—Å–∫ —Å UI
npm test -- --ui

# –ó–∞–ø—É—Å–∫ –≤ watch —Ä–µ–∂–∏–º–µ
npm test -- --watch

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
npm test -- forecastService.test.ts

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
npm test -- --coverage
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [`src/tests/README.md`](src/tests/README.md)

### E2E —Ç–µ—Å—Ç—ã (Playwright)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö E2E —Ç–µ—Å—Ç–æ–≤
npm run test:e2e

# –ó–∞–ø—É—Å–∫ –≤ UI —Ä–µ–∂–∏–º–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npm run test:e2e:ui

# –ó–∞–ø—É—Å–∫ —Å –≤–∏–¥–∏–º—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º
npm run test:e2e:headed

# –ó–∞–ø—É—Å–∫ –≤ debug —Ä–µ–∂–∏–º–µ
npm run test:e2e:debug

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞
npm run test:e2e:report
```
–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [`src/tests/e2e/README.md`](src/tests/e2e/README.md)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.ts`)

```typescript
const config = {
  map: {
    lat: 54.628723,        // –ù–∞—á–∞–ª—å–Ω–∞—è —à–∏—Ä–æ—Ç–∞
    lng: 39.716815,        // –ù–∞—á–∞–ª—å–Ω–∞—è –¥–æ–ª–≥–æ—Ç–∞
    zoom: 15,              // –ù–∞—á–∞–ª—å–Ω—ã–π –∑—É–æ–º
    stationSelectZoom: 15, // –ó—É–º –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
  },
  routes: [
    { title: '–ê–≤—Ç–æ–±—É—Å—ã', type: '–ê', color: 'green' },
    { title: '–¢—Ä–æ–ª–ª–µ–π–±—É—Å—ã', type: '–¢', color: 'blue' },
    { title: '–ú–∞—Ä—à—Ä—É—Ç–Ω—ã–µ —Ç–∞–∫—Å–∏', type: '–ú', color: '#ff6a00' },
  ],
  routeIconSize: 18,
  routeLineWeight: 3,
};
```

## üì° API

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º API —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
GET /api/routes

// –ü–æ–ª—É—á–µ–Ω–∏–µ —É–∑–ª–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞
GET /api/route/nodes?rid={routeId}&rtype={routeType}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
GET /api/vehicle/positions?rids={routeIds}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
GET /api/stations

// –ü—Ä–æ–≥–Ω–æ–∑ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
GET /api/station/forecast?stid={stationId}

// –ü—Ä–æ–≥–Ω–æ–∑ –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
GET /api/vehicle/forecast?vehid={vehicleId}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- **React Query** –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- **TanStack Virtual** –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
- **Canvas API** –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
npm run lint
```

### –ê–Ω–∞–ª–∏–∑ bundle

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm install --save-dev rollup-plugin-visualizer

# –°–±–æ—Ä–∫–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º
npm run build
```

## Troubleshooting

### –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç—ã Playwright –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã
npx playwright install --with-deps
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ TypeScript –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
# –†–µ—à–µ–Ω–∏–µ: –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install
```

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–¥—É:**
- –í—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É code style
- –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π.

---

**Version**: 0.4.0  
**Last Updated**: January 2026
